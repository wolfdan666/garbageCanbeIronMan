# 技术
## go语言圣经
75分钟 下次从这里开始: https://flydk.gitbooks.io/go/content/ch9/ch9-08.html
### 竞争条件检测
只要在`go build`，`go run`或者`go test`命令后面加上`-race`的flag，就会使编译器创建一个你的应用的“修改”版或者一个附带了能够记录所有运行期对共享变量访问工具的test，并且会记录下每一个读或者写共享变量的goroutine的身份信息。

**竞争检查器会报告所有的已经发生的数据竞争。然而，它只能检测到运行时的竞争条件；并不能证明之后不会发生数据竞争。所以为了使结果尽量正确，请保证你的测试并发地覆盖到了你的包。**

由于需要额外的记录，因此构建时加了竞争检测的程序跑起来会慢一些，且需要更大的内存，即使是这样，这些代价对于很多生产环境的工作来说还是可以接受的。对于一些偶发的竞争条件来说，让竞争检查器来干活可以节省无数日夜的debugging。(译注：多少服务端C和C++程序员为此竞折腰)


### 示例:并发的非阻塞缓存

下面是我们要设计的cache的第一个“草稿”：


# 锻炼
1小时

# 看书
30分钟 黑客与画家

# 总结
加2.5个自信币和自信点