# 技术
5小时
折腾 VMware的Ubuntu虚拟机的代理一小时5小时
## shadowsocks
- NAT,或者指定NAT VMnet8
- [设置静态ip](https://blog.csdn.net/haojie_duan/article/details/117914260) **可选**
- 容许其他设备接入(容许局域网连接)
- wifi或者以太网的ip: 192.168.1.144 ，也可以用VMnet8适配器(虚拟路由器)的ip: 192.168.23.1 (**前者可能会改变，但后者不会变，所以推荐用后者**)
- 然后 1080 端口

发现禁用了shadowsocks,竟然虚拟机还能连接，很奇怪

## v2rayN
2022年4月29日18:13:07 当shadowsocks成功之后，我终于静心看到了一篇好文章
[说人话的 VMware 虚拟机使用主机侧代理软件](https://blog.xzr.moe/archives/124/)

按照以上文章的设置，我还是无法成功访问google的，但是基于我已经有了shadowsocks了，以及一下午的折腾的过往的教程阅历，所以我就能很冷静地思考出每一篇文章之间的差异点，通过控制变量法，找到了我v2rayN一直不成功的原因:

我的V2rayN的版本是5.16，是比较新的版本，所以他下面的这个显示框和以前只显示10808和10809有些不同，多了两个端口，写着局域网

![v2rayN v5.16的配置显示](../../imgs/v2rayN5.16new_port.png)

然后用10810和10811这两个端口，然后就成功了...

- NAT,或者指定NAT VMnet8
- [设置静态ip](https://blog.csdn.net/haojie_duan/article/details/117914260) **可选**
- 容许其他设备接入(容许局域网连接)
- wifi或者以太网的ip: 192.168.1.144 ，也可以用VMnet8适配器(虚拟路由器)的ip: 192.168.23.1 (**前者可能会改变，但后者不会变，所以推荐用后者**)
- **V2rayN较新版本然后 socks 10810，  http(s) 是10811 端口**
- V2rayN教老版本 socks 10808 , http(s) 是 10809 端口

发现虚拟机内的终端不用代理也能科学上网，可能是因为内部终端是直接用的虚拟机内设置的网络

然后在windows的ssh连接到的虚拟机终端需要用 `export ALL_PROXY=socks5://192.168.23.1:10810` 才行

**所以今天被Ubuntu装机坑了一上午，被代理设置坑了一下午**

# 锻炼
10分钟

# 总结
加5点自信币和5点自信点